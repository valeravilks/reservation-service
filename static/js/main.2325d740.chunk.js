(this.webpackJsonpreservation_service=this.webpackJsonpreservation_service||[]).push([[0],{160:function(e,t,a){e.exports=a(185)},165:function(e,t,a){},166:function(e,t,a){},185:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),i=a.n(c),o=(a(165),a(166),a(26)),u=a(235),l=a(232),s=a(231),m=a(228),p=a(233),d=a(234),f=a(107),b=a.n(f),h=a(190),g=a(229),E=a(230);function v(e){return{type:"ERROR_AUTH",status:e}}function O(e){return{type:"AUTH_PROCESS",status:e}}var w=a(23),j=a(45),y=a(122),x=a(113),I=x.a().shape({email:x.b().email("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0430\u0434\u0440\u0435\u0441").required("\u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),password:x.b().min(5,"\u041f\u0430\u0440\u043e\u043b\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(20,"\u041f\u0430\u0440\u043e\u043b\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 20 \u0441\u0438\u043c\u043e\u043b\u043e\u0432").required("\u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f")});function A(){return r.a.createElement(h.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(m.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var _=Object(g.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),k=Object(o.c)((function(e){return{email:e.login.email,errorAuth:e.login.errorAuth,formDisabled:e.login.authProcess}}),(function(e){return{singIn:function(t,a){e(function(e,t){return{type:"SING_IN_EMAIL",email:e,pass:t}}(t,a))},push:function(t){return e(Object(w.d)(t))}}}))((function(e){var t=_();return r.a.createElement(E.a,{component:"main",maxWidth:"xs"},r.a.createElement(s.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(u.a,{className:t.avatar},r.a.createElement(b.a,null)),r.a.createElement(h.a,{component:"h1",variant:"h5"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),e.errorAuth?"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c":"",r.a.createElement(j.c,{initialValues:{email:"",password:""},onSubmit:function(t,a){var n=a.setSubmitting;a.resetForm;e.singIn(t.email,t.password),n(!1)},validationSchema:I},(function(a){var n=a.values,c=a.handleChange,i=a.handleBlur,o=a.handleSubmit;return r.a.createElement(j.b,{className:t.form,onSubmit:o,noValidate:!0},r.a.createElement(j.a,{component:y.a,type:"email",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:n.email,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:c,onBlur:i,disabled:e.formDisabled}),r.a.createElement(j.a,{component:y.a,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"password",autoComplete:"current-password",onChange:c,onBlur:i,value:n.password,disabled:e.formDisabled}),r.a.createElement(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:e.formDisabled},"\u0412\u043e\u0439\u0442\u0438"))})),r.a.createElement(p.a,{container:!0},r.a.createElement(p.a,{item:!0,xs:!0},r.a.createElement(m.a,{href:"#",variant:"body2"},"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?")),r.a.createElement(p.a,{item:!0,xs:!0},r.a.createElement(m.a,{variant:"body2",onClick:function(t){console.log(t),t.preventDefault(),e.push("/registration")}},"\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430. \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0441\u044f")))),r.a.createElement(d.a,{mt:8},r.a.createElement(A,null)))})),S=function(){return r.a.createElement(k,null)},C=Object(o.c)(null,(function(e){return{push:function(t){return e(Object(w.d)(t))}}}))((function(e){return r.a.createElement("div",null,"MainPage",r.a.createElement(l.a,{variant:"contained",color:"primary",type:"button",onClick:function(){e.push("/login"),console.log(w.d),console.log(e.push)}},"\u041b\u043e\u0433\u0438\u043d"))})),N=Object(o.c)(null,(function(e){return{out:function(){return e({type:"LOGIN_OUT"})}}}))((function(e){return r.a.createElement("div",null,"AccountPage",r.a.createElement(l.a,{variant:"contained",color:"primary",type:"button",onClick:function(){console.log(e),e.out()}},"\u0412\u044b\u0439\u0442\u0438"))})),R=a(225),D=Object(g.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),T=Object(o.c)((function(e){return{email:e.login.email}}),(function(e){return{singUp:function(t,a){e(function(e,t){return{type:"SING_UP_EMAIL",email:e,pass:t}}(t,a))},push:function(t){return e(Object(w.d)(t))}}}))((function(e){var t=D(),a=r.a.createRef(),n=r.a.createRef();return r.a.createElement(E.a,{component:"main",maxWidth:"xs"},r.a.createElement(s.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(u.a,{className:t.avatar},r.a.createElement(b.a,null)),r.a.createElement(h.a,{component:"h1",variant:"h5"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(R.a,{type:"email",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,inputRef:a}),r.a.createElement(R.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",inputRef:n}),r.a.createElement(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(t){return t.preventDefault(),void e.singUp(a.current.value,n.current.value)}},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),r.a.createElement(p.a,{container:!0},r.a.createElement(l.a,{onClick:function(){e.push("/login")}},"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442. \u0412\u043e\u0439\u0442\u0438")))))})),P=a(109),U=a(46),W=a(39),B=a(123),M=a(22),q=a.n(M),L=a(119),F=a(137),G=a(90),H={apiKey:"AIzaSyDpA_QpjbHldTPVXiq5FYQDYv3SgEJnlMo",authDomain:"test-c0f21.firebaseapp.com",databaseURL:"https://test-c0f21.firebaseio.com",projectId:"test-c0f21",storageBucket:"test-c0f21.appspot.com",messagingSenderId:"121729856495",appId:"1:121729856495:web:07d12b62ef501879dbbc1a"},V=new function e(){Object(F.a)(this,e),this.singIn=function(){var e=Object(L.a)(q.a.mark((function e(t,a){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G.auth().signInWithEmailAndPassword(t,a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.singOut=Object(L.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G.auth().signOut());case 1:case"end":return e.stop()}}),e)}))),this.inAuth=function(){var e=G.auth().currentUser;return console.log(Boolean(e)),Boolean(e)},G.initializeApp(H)},Y={isAuth:V.inAuth(),errorAuth:!1,authProcess:!1},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR_AUTH":return Object(B.a)({},e,{errorAuth:t.status});case"AUTH_PROCESS":return Object(B.a)({},e,{authProcess:t.status});default:return e}},X=a(47),z=function(e){return Object(W.c)({login:J,router:Object(X.b)(e)})},Q=a(139),K=a(40),$=q.a.mark(ae),Z=q.a.mark(ne),ee=q.a.mark(re),te=q.a.mark(ce);function ae(e){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(K.b)(O(!0));case 2:return t.prev=2,t.next=5,V.singIn(e.email,e.pass);case 5:return t.next=7,Object(K.b)(v(!1));case 7:return t.next=9,Object(K.b)(Object(w.d)("/account"));case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(2),t.next=15,Object(K.b)(v(!0));case 15:return t.next=17,Object(K.b)(O(!1));case 17:case"end":return t.stop()}}),$,null,[[2,11]])}function ne(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.c)("SING_IN_EMAIL",ae);case 2:case"end":return e.stop()}}),Z)}function re(e){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.singOut();case 3:return e.next=5,Object(K.b)(Object(w.d)("/"));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),ee,null,[[0,7]])}function ce(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.c)("LOGIN_OUT",re);case 2:case"end":return e.stop()}}),te)}var ie=q.a.mark(oe);function oe(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.a)([ne(),ce()]);case 2:case"end":return e.stop()}}),ie)}var ue=a(129),le=Object(U.a)(),se=Object(Q.a)(),me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||W.d,pe=Object(W.e)(z(le),me(Object(W.a)(se),Object(W.a)(Object(ue.a)(le))));se.run(oe);var de=pe;var fe=Object(o.c)((function(e){return{state:e}}),(function(e){return{add:function(){return e({type:"INCREMENT_ASYNC"})}}}))((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{history:le},r.a.createElement(P.c,null,r.a.createElement(P.a,{exact:!0,path:"/"},r.a.createElement(C,null)),r.a.createElement(P.a,{path:"/login"},r.a.createElement(S,null)),r.a.createElement(P.a,{path:"/account"},r.a.createElement(N,null)),r.a.createElement(P.a,{path:"/registration"},r.a.createElement(T,null)))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(o.a,{store:de},r.a.createElement(r.a.StrictMode,null,r.a.createElement(fe,{history:le}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[160,1,2]]]);
//# sourceMappingURL=main.2325d740.chunk.js.map